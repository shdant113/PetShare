{% extends 'layout.html' %}

{% block content %}
	<h1>{{ user.display_name }}'s profile</h1>
	<p>this user id: {{user.id}}</p>
    <div>
   		{{ user.username }} <br>
		   
  		{{ user.bio }} <br>
    </div>
    <div>
    	<h5> {{ user.display_name }}'s pets:</h5>
    	<ul>
    		{% for pet in pets %}
    			<a href="{{ url_for('show_pet', id = pet.id) }}"><li> {{ pet.name }} </li></a>
    		{% endfor %}
    	</ul>
    	
	</div>
	
	{% if user == current_user %}
		<a href="{{ url_for('delete_route_to_confirm', id = user.id) }}">Delete My Profile</a>
	{% endif %}

    {% if user != current_user %}
    	<p>
    		<a href="{{ url_for('send_message', recipient = user.id) }}">
    			Send {{ user.username }} a private message
    		</a>
    	</p>
    {% endif %}

    {% for post in posts %}
		
		
		<div class = "card" style = "width: 22rem;">
			<div>
				<time data-time = "{{ post.timestamp }}" class = "distime" datetime = "{{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}">
					{{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}
				</time>
				<a href = "{{ url_for('get_profile', id = post.user.id) }}">
					{{ post.user.id }}
				</a>
			</div>
			<div class = "card-body">
				<p class = "card-text">
					I am looking for: <br>
					{{ post.content }} <br><br>
					I need a sitter on: <br>
					{{ post.requested_time }}
				</p>
			</div>
			{% if user == current_user %}
				<button><a href="{{ url_for('delete_post', id = post.id) }}">
					Delete This Post Permanently
				</a></button>
			{% endif %}
		</div>

	{% endfor %}
    {{ super() }}
{% endblock %}