{% extends 'layout.html' %}

{% block content %}
	<h1>{{ user.display_name }}'s profile</h1>
	<p>this user id: {{user.id}}</p>
    <div>
   		{{ user.username }} <br>
		   {% for pet in pets %}
		   	{% if current_user.id == user.id %}
			   <a href="{{url_for('update_pet', id=pet.id)}}">{{ pet.name }}</a>
			   <a href="{{url_for('delete_pet', id=pet.id)}}">delete this pet</a>
			{% else %}
				<p>{{pet.name}}</p>
			{% endif %}
   		{% endfor %} 
  		{{ user.bio }} <br>
    </div>

    {% if user != current_user %}
    	<p>
    		<a href="{{ url_for('send_message', recipient = user.id) }}">
    			Send {{ user.username }} a private message
    		</a>
    	</p>
    {% endif %}

    {% for post in posts %}
		
		
		<div class = "card" style = "width: 22rem;">
			<div>
				<time data-time = "{{ post.timestamp }}" class = "distime" datetime = "{{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}">
					{{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}
				</time>
				<a href = "{{ url_for('get_profile', id = post.user.id) }}">
					{{ post.user.id }}
				</a>
			</div>
			<div class = "card-body">
				<p class = "card-text">
					I am looking for: <br>
					{{ post.content }} <br><br>
					I need a sitter on: <br>
					{{ post.requested_time }}
				</p>
			</div>
		</div>

	{% endfor %}
    {{ super() }}
{% endblock %}